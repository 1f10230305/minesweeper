(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(85)}])},85:function(e,t,s){"use strict";s.r(t);var n=s(5893),o=s(7294),i=s(7281),a=s.n(i);let r=()=>{let e=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],[t,s]=(0,o.useState)(e),[i,r]=(0,o.useState)(e),[c,l]=(0,o.useState)({startTime:0,currentTime:0}),d=[[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1]],u=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],m=0,_=t.every(e=>e.every(e=>1!==e)),f=(e,t)=>{let s=0;for(let n of u)void 0!==i[t+n[1]]&&1===i[t+n[1]][e+n[0]]&&s++;if(d[t][e]=s,0===s)for(let s of u)void 0!==d[t+s[1]]&&(-1===d[t+s[1]][e+s[0]]||9===d[t+s[1]][e+s[0]]||10===d[t+s[1]][e+s[0]])&&f(e+s[0],t+s[1])},x=(e,t)=>{let s=0,n=JSON.parse(JSON.stringify(i));for(;s<10;){let o=Math.floor(81*Math.random()),i=o%9,a=Math.floor(o/9);0===n[a][i]&&!(i===e&&a===t)&&(n[a][i]=1,s++)}r(n)},N=(e,s)=>{m=3;for(let n=0;n<9;n++)for(let o=0;o<9;o++)i[n][o]&&t[s][e]<2&&(d[n][o]=11);d[s][e]=12},v=(e,n)=>{let o=0,a=0;for(let s of u)void 0!==d[n+s[1]]&&d[n+s[1]][e+s[0]]&&(o+=3===t[n+s[1]][e+s[0]]?1:0,a+=i[n+s[1]][e+s[0]]);if(o===a){let o=JSON.parse(JSON.stringify(t));for(let t of u)void 0!==d[n+t[1]]&&d[n+t[1]][e+t[0]]<9&&(o[n+t[1]][e+t[0]]=1);s(o)}},b=()=>{s(e),r(e),l({startTime:0,currentTime:0}),m=0},h=()=>{let e=0;for(let t=0;t<9;t++)for(let s=0;s<9;s++)(-1===d[s][t]||9===d[s][t]||10===d[s][t])&&e++;if(10===e){m=2;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===i[t][e]&&(d[t][e]=10)}};(0,o.useEffect)(()=>{let e=setTimeout(()=>{1===m&&(l({...c,currentTime:Date.now()}),console.log(c))},1e3);return()=>clearInterval(e)}),(()=>{_||(m=1);for(let e=0;e<9;e++)for(let s=0;s<9;s++)switch(t[s][e]){case 1:_||i[s][e]||f(e,s),1===i[s][e]&&N(e,s);break;case 2:case 3:-1===d[s][e]&&(d[s][e]=t[s][e]+7)}h()})();let j=(e,n,o)=>{if(0===o.button&&m<=1){if(_&&(m=1,x(e,n),l({startTime:Date.now(),currentTime:Date.now()}),console.log(m)),-1===d[n][e]){let o=JSON.parse(JSON.stringify(t));o[n][e]=1,s(o)}else d[n][e]>0&&d[n][e]<9&&v(e,n)}},p=(e,n,o)=>{o.preventDefault();let i=JSON.parse(JSON.stringify(t));switch(d[n][e]){case -1:i[n][e]=3,d[n][e]=10;break;case 9:i[n][e]=0,d[n][e]=0;break;case 10:i[n][e]=2,d[n][e]}s(i)};return(0,n.jsx)("div",{className:a().container,children:(0,n.jsxs)("div",{className:a().minesweeper,children:[(0,n.jsxs)("div",{className:a().header,children:[(0,n.jsx)("div",{className:a().counter,children:Math.floor((c.currentTime-c.startTime)/1e3)}),(0,n.jsx)("button",{className:a()["reset-button"],onClick:b,style:{backgroundPosition:m?"".concat(-((m+10)*100),"%"):"-1100%"}}),(0,n.jsxs)("div",{className:a().counter,children:[(0,n.jsxs)("div",{className:a().num,children:[(0,n.jsx)("div",{className:a()["num-top"]}),(0,n.jsx)("div",{className:a()["num-bottom"]})]}),(0,n.jsxs)("div",{className:a().num,children:[(0,n.jsx)("div",{className:a()["num-top"]}),(0,n.jsx)("div",{className:a()["num-bottom"]})]}),(0,n.jsxs)("div",{className:a().num,children:[(0,n.jsx)("div",{className:a()["num-top"]}),(0,n.jsx)("div",{className:a()["num-bottom"]})]})]})]}),(0,n.jsx)("div",{className:a().board,children:d.map((e,t)=>e.map((e,s)=>(0,n.jsxs)("div",{className:a().cell,style:{backgroundColor:12===d[t][s]?"#f00":"#0000"},onContextMenu:e=>p(s,t,e),onMouseUp:e=>j(s,t,e),children:[(-1===d[t][s]||d[t][s]>8&&d[t][s]<11)&&(0,n.jsx)("div",{className:a().stone,children:(9===d[t][s]||10===d[t][s])&&(0,n.jsx)("div",{className:a().icon,style:{backgroundPosition:"".concat(-((d[t][s]-1)*100),"%")}})}),0!==d[t][s]&&(0,n.jsx)("div",{className:a().icon,style:{backgroundPosition:12===d[t][s]?"-1000%":"".concat(-((d[t][s]-1)*100),"%")}})]},"".concat(s,"_").concat(t))))})]})})};t.default=r},7281:function(e){e.exports={container:"index_container__twYoi",minesweeper:"index_minesweeper__TfUA1",board:"index_board__j13uV",stone:"index_stone__H6x28",icon:"index_icon__IdCia",cell:"index_cell__HHk1K",header:"index_header__8k7Yb","reset-button":"index_reset-button__2gOUG",counter:"index_counter__H_TOO",num:"index_num__lqb6x","num-top":"index_num-top__MKSJb","num-bottom":"index_num-bottom__0b8sV"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);